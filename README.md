![Alt mvc](./public/img/webtech.png)
# MVC Report
The repository contains all the files for the web application report. This is created as part of the Objektorienterade webbteknologier ([mvc](https://dbwebb.se/kurser/mvc-v2)
) course at Blekinge Tekniska HÃ¶gskolan. Object-oriented PHP and Symfony framework are used to create the web application. The ORM framework Doctrine is used here. To ensure code quality, tools such as PHP Coding Standards Fixer, PHPMD, and PHPStan are utilized. PHPUnit is used for performing unit test. To identify vulnerabilities in the code reports generated by PHPMetrics and Scrutinizer are used. Moreover, PHPDoc is used to generate comprehensive documentation of the source code.

The badges from the (latest) Scrutinizer analysis results is given below:

[![Scrutinizer Code Quality](https://scrutinizer-ci.com/g/hafsaChy/report/badges/quality-score.png?b=main)](https://scrutinizer-ci.com/g/hafsaChy/report/?branch=main) [![Code Coverage](https://scrutinizer-ci.com/g/hafsaChy/report/badges/coverage.png?b=main)](https://scrutinizer-ci.com/g/hafsaChy/report/?branch=main) [![Build Status](https://scrutinizer-ci.com/g/hafsaChy/report/badges/build.png?b=main)](https://scrutinizer-ci.com/g/hafsaChy/report/build-status/main)
## Application

To clone this repository, run ```git clone https://github.com/hafsaChy/report```.

To run the app locally, run ```php -S localhost:8888```. Then, the app can be seen in ```http://localhost:8888/public/``` from the browser.


### Database

I used SQLite and opted to use the ORM framework, Doctrine for database. An Entity class is created for each table in the database, which is aviable in the folder *src/Entity/*. All the repositories for the Enity calsses are in *src/Repository/* folder. A a PHP script to populate the database tables from CSV files are created in *src/Command/CsvImport.php*.

To run the php script to populate the database via Doctrine, run ```composer importcsv```.

### PHP Linter and Mess Detection

To validate code use the following commands.

```
# validate code with all linters (PHPMD, PHPstan)
composer lint

# validate code with only PHP Coding Standards Fixer
composer csfix

# validate code with only PHPMD
composer phpmd

# validate code with only PHPstan
composer phpstan

```

### Unit testing with PHPUnit

The unit testing framework PHPUnit is used for unit test. To execute the tests, run ```composer phpunit```.

### PhpMetrics and PhpDoc

PhpMetrics is a tool that reads the source code and creates a report containing quality metrics on the code. To generate the report run ```composer phpmetrics```. To generate the documentation with PhpDoc run 
```composer phpdoc```.

### Scrutinizer

Scrutinizer is a CI service that checks out the code on every update of GitHub repo, executes the test suite and analyzes the code. Following badges are from the latest update of my repo:

[![Scrutinizer Code Quality](https://scrutinizer-ci.com/g/hafsaChy/report/badges/quality-score.png?b=main)](https://scrutinizer-ci.com/g/hafsaChy/report/?branch=main) [![Code Coverage](https://scrutinizer-ci.com/g/hafsaChy/report/badges/coverage.png?b=main)](https://scrutinizer-ci.com/g/hafsaChy/report/?branch=main) [![Build Status](https://scrutinizer-ci.com/g/hafsaChy/report/badges/build.png?b=main)](https://scrutinizer-ci.com/g/hafsaChy/report/build-status/main)
