{% extends "base.html.twig" %}

{% block title %}API{% endblock %}

{% block body %}
    <div class="card-home">

        <h1>API</h1>
        <p>This site offers the following lists in JSON form.</p>
        <div class="api">
            <h2>Today's quote</h2>
            <p>This route takes you to a page that displays a JSON object with today's quote.</p>
            <form action="{{ path('quote') }}" method="get">
                <button class="button blue-button" type="submit">Today's quote</button>
            </form>
        </div>
        <br>
        <div class="api">
            <h2>Sorted deck</h2>
            <p>This route takes you to a page that displays a JSON object with all the cards in the deck sorted by suit and value.</p>
            <form action="{{ path('api_deck_init') }}" method="get">
                <button class="button blue-button" type="submit">Sorted deck</button>
            </form>
        </div>
        <br>
        <div class="api">
            <h2>Mixed deck</h2>
            <p>This route takes you to a page that displays a JSON object with all the cards in the deck once it has been shuffled.</p>
            <form action="{{ path('api_deck_shuffle_post') }}" method="post">
                <button class="button blue-button" type="submit">Mixed deck</button>
            </form>
        </div>
        <br>
        <div class="api">
            <h2>Draw a card from the deck</h2>
            <p>
                This route takes you to a page that displays a JSON object with a random card from the deck. The number of cards remaining in the deck is also displayed.
            </p>
            <form action="{{ path('api_deck_draw_post') }}" method="post">
                <button class="button blue-button" type="submit">Draw a card from the deck</button>
            </form>
        </div>
        <br>
        <div class="api">
            <h2>Draw a number of cards from the deck</h2>
            <p>
               This route takes you to a page that displays a JSON object with a number of cards from the deck. The number of cards remaining in the deck is also displayed.
            </p>
            {% set numCards = 1 %}

            <form action="{{ path('api_deck_draw_num_post', {'num': numCards}) }}" method="post">
                <label for="num">Number of cards to draw:</label>
                <input type="number" id="num" name="num" min="1" required>
                <button class="button blue-button" type="submit">Draw</button>
            </form>
        </div>
        <br>
        <div class="api">
            <h2>Check the current setting for the game</h2>
            <p>
                This route takes you to a page that displays a JSON object with the current settings for the game Twenty One.
            </p>
            <form action="{{ path('api_game21') }}" method="post">
                <button class="button blue-button" type="submit">Current settings for Twenty One</button>
            </form>
        </div>
        <br>

        <div class="api">
        <h2>Show all books in the library</h2>
        <p>
            This route takes you to a page that displays a JSON object with all existing books in the library.
        </p>
        <a class="button blue-button" href="{{ path('api_library') }}">All books in the library</a>
        </div>
        <br>
        <div class="api">
            <h2>Show one book with given ISBN number</h2>
            <p>
                This route takes you to a page that displays a JSON object with one book through it's ISBN.
            </p>
            <form class="form-inline">
            <input class="input-field" type="text" name="isbn" minlength="10" maxlength="17" placeholder="ISBN">
            <input class="button blue-button" type="submit" value="Search book with this ISBN"
                onClick="this.form.action='{{ path('api_book_post_isbn') }}';this.form.method='post';"
            >
            </form>
        </div>
        <br>
    </div>
{% endblock %}
